---
@title[Introduction]
### Tenant Request Lifecycle

<span style="color:gray">DP on Kubernetes</span>
---
@title[Tenant Request]
### Tenant Request
```
https://t1.sumanganta.com/eng/ic/api/process/v1/dp-executions
```
---
### Host Resolution
![Flow Chart](data:image/svg+xml;base64,PHN2ZyBpZD0ibWVybWFpZC0xNTI5MTc4NjYxOTIzIiB3aWR0aD0iMTAwJSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBzdHlsZT0ibWF4LXdpZHRoOiA0NDguNTYyNXB4OyIgdmlld0JveD0iMCAwIDQ0OC41NjI1IDEyNyI+PHN0eWxlPgoKCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmxhYmVsIHsKICBmb250LWZhbWlseTogJ3RyZWJ1Y2hldCBtcycsIHZlcmRhbmEsIGFyaWFsOwogIGNvbG9yOiAjMzMzOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5ub2RlIHJlY3QsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLm5vZGUgY2lyY2xlLAojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5ub2RlIGVsbGlwc2UsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLm5vZGUgcG9seWdvbiB7CiAgZmlsbDogI0VDRUNGRjsKICBzdHJva2U6ICM5MzcwREI7CiAgc3Ryb2tlLXdpZHRoOiAxcHg7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLm5vZGUuY2xpY2thYmxlIHsKICBjdXJzb3I6IHBvaW50ZXI7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmFycm93aGVhZFBhdGggewogIGZpbGw6ICMzMzMzMzM7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmVkZ2VQYXRoIC5wYXRoIHsKICBzdHJva2U6ICMzMzMzMzM7CiAgc3Ryb2tlLXdpZHRoOiAxLjVweDsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuZWRnZUxhYmVsIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlOGU4OyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5jbHVzdGVyIHJlY3QgewogIGZpbGw6ICNmZmZmZGUgIWltcG9ydGFudDsKICBzdHJva2U6ICNhYWFhMzMgIWltcG9ydGFudDsKICBzdHJva2Utd2lkdGg6IDFweCAhaW1wb3J0YW50OyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5jbHVzdGVyIHRleHQgewogIGZpbGw6ICMzMzM7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgZGl2Lm1lcm1haWRUb29sdGlwIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1heC13aWR0aDogMjAwcHg7CiAgcGFkZGluZzogMnB4OwogIGZvbnQtZmFtaWx5OiAndHJlYnVjaGV0IG1zJywgdmVyZGFuYSwgYXJpYWw7CiAgZm9udC1zaXplOiAxMnB4OwogIGJhY2tncm91bmQ6ICNmZmZmZGU7CiAgYm9yZGVyOiAxcHggc29saWQgI2FhYWEzMzsKICBib3JkZXItcmFkaXVzOiAycHg7CiAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgei1pbmRleDogMTAwOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5hY3RvciB7CiAgc3Ryb2tlOiAjQ0NDQ0ZGOwogIGZpbGw6ICNFQ0VDRkY7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgdGV4dC5hY3RvciB7CiAgZmlsbDogYmxhY2s7CiAgc3Ryb2tlOiBub25lOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5hY3Rvci1saW5lIHsKICBzdHJva2U6IGdyZXk7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLm1lc3NhZ2VMaW5lMCB7CiAgc3Ryb2tlLXdpZHRoOiAxLjU7CiAgc3Ryb2tlLWRhc2hhcnJheTogJzIgMic7CiAgbWFya2VyLWVuZDogJ3VybCgjYXJyb3doZWFkKSc7CiAgc3Ryb2tlOiAjMzMzOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5tZXNzYWdlTGluZTEgewogIHN0cm9rZS13aWR0aDogMS41OwogIHN0cm9rZS1kYXNoYXJyYXk6ICcyIDInOwogIHN0cm9rZTogIzMzMzsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAjYXJyb3doZWFkIHsKICBmaWxsOiAjMzMzOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzICNjcm9zc2hlYWQgcGF0aCB7CiAgZmlsbDogIzMzMyAhaW1wb3J0YW50OwogIHN0cm9rZTogIzMzMyAhaW1wb3J0YW50OyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5tZXNzYWdlVGV4dCB7CiAgZmlsbDogIzMzMzsKICBzdHJva2U6IG5vbmU7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmxhYmVsQm94IHsKICBzdHJva2U6ICNDQ0NDRkY7CiAgZmlsbDogI0VDRUNGRjsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAubGFiZWxUZXh0IHsKICBmaWxsOiBibGFjazsKICBzdHJva2U6IG5vbmU7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmxvb3BUZXh0IHsKICBmaWxsOiBibGFjazsKICBzdHJva2U6IG5vbmU7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmxvb3BMaW5lIHsKICBzdHJva2Utd2lkdGg6IDI7CiAgc3Ryb2tlLWRhc2hhcnJheTogJzIgMic7CiAgbWFya2VyLWVuZDogJ3VybCgjYXJyb3doZWFkKSc7CiAgc3Ryb2tlOiAjQ0NDQ0ZGOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5ub3RlIHsKICBzdHJva2U6ICNhYWFhMzM7CiAgZmlsbDogI2ZmZjVhZDsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAubm90ZVRleHQgewogIGZpbGw6IGJsYWNrOwogIHN0cm9rZTogbm9uZTsKICBmb250LWZhbWlseTogJ3RyZWJ1Y2hldCBtcycsIHZlcmRhbmEsIGFyaWFsOwogIGZvbnQtc2l6ZTogMTRweDsgfQoKCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnNlY3Rpb24gewogIHN0cm9rZTogbm9uZTsKICBvcGFjaXR5OiAwLjI7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnNlY3Rpb24wIHsKICBmaWxsOiByZ2JhKDEwMiwgMTAyLCAyNTUsIDAuNDkpOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5zZWN0aW9uMiB7CiAgZmlsbDogI2ZmZjQwMDsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuc2VjdGlvbjEsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnNlY3Rpb24zIHsKICBmaWxsOiB3aGl0ZTsKICBvcGFjaXR5OiAwLjI7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnNlY3Rpb25UaXRsZTAgewogIGZpbGw6ICMzMzM7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnNlY3Rpb25UaXRsZTEgewogIGZpbGw6ICMzMzM7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnNlY3Rpb25UaXRsZTIgewogIGZpbGw6ICMzMzM7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnNlY3Rpb25UaXRsZTMgewogIGZpbGw6ICMzMzM7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnNlY3Rpb25UaXRsZSB7CiAgdGV4dC1hbmNob3I6IHN0YXJ0OwogIGZvbnQtc2l6ZTogMTFweDsKICB0ZXh0LWhlaWdodDogMTRweDsgfQoKCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmdyaWQgLnRpY2sgewogIHN0cm9rZTogbGlnaHRncmV5OwogIG9wYWNpdHk6IDAuMzsKICBzaGFwZS1yZW5kZXJpbmc6IGNyaXNwRWRnZXM7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmdyaWQgcGF0aCB7CiAgc3Ryb2tlLXdpZHRoOiAwOyB9CgoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAudG9kYXkgewogIGZpbGw6IG5vbmU7CiAgc3Ryb2tlOiByZWQ7CiAgc3Ryb2tlLXdpZHRoOiAycHg7IH0KCgoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAudGFzayB7CiAgc3Ryb2tlLXdpZHRoOiAyOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC50YXNrVGV4dCB7CiAgdGV4dC1hbmNob3I6IG1pZGRsZTsKICBmb250LXNpemU6IDExcHg7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnRhc2tUZXh0T3V0c2lkZVJpZ2h0IHsKICBmaWxsOiBibGFjazsKICB0ZXh0LWFuY2hvcjogc3RhcnQ7CiAgZm9udC1zaXplOiAxMXB4OyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC50YXNrVGV4dE91dHNpZGVMZWZ0IHsKICBmaWxsOiBibGFjazsKICB0ZXh0LWFuY2hvcjogZW5kOwogIGZvbnQtc2l6ZTogMTFweDsgfQoKCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnRhc2tUZXh0MCwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAudGFza1RleHQxLAojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC50YXNrVGV4dDIsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnRhc2tUZXh0MyB7CiAgZmlsbDogd2hpdGU7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnRhc2swLAojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC50YXNrMSwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAudGFzazIsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnRhc2szIHsKICBmaWxsOiAjOGE5MGRkOwogIHN0cm9rZTogIzUzNGZiYzsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAudGFza1RleHRPdXRzaWRlMCwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAudGFza1RleHRPdXRzaWRlMiB7CiAgZmlsbDogYmxhY2s7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnRhc2tUZXh0T3V0c2lkZTEsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLnRhc2tUZXh0T3V0c2lkZTMgewogIGZpbGw6IGJsYWNrOyB9CgoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuYWN0aXZlMCwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuYWN0aXZlMSwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuYWN0aXZlMiwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuYWN0aXZlMyB7CiAgZmlsbDogI2JmYzdmZjsKICBzdHJva2U6ICM1MzRmYmM7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmFjdGl2ZVRleHQwLAojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5hY3RpdmVUZXh0MSwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuYWN0aXZlVGV4dDIsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmFjdGl2ZVRleHQzIHsKICBmaWxsOiBibGFjayAhaW1wb3J0YW50OyB9CgoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuZG9uZTAsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmRvbmUxLAojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5kb25lMiwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuZG9uZTMgewogIHN0cm9rZTogZ3JleTsKICBmaWxsOiBsaWdodGdyZXk7CiAgc3Ryb2tlLXdpZHRoOiAyOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5kb25lVGV4dDAsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmRvbmVUZXh0MSwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuZG9uZVRleHQyLAojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5kb25lVGV4dDMgewogIGZpbGw6IGJsYWNrICFpbXBvcnRhbnQ7IH0KCgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5jcml0MCwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuY3JpdDEsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmNyaXQyLAojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5jcml0MyB7CiAgc3Ryb2tlOiAjZmY4ODg4OwogIGZpbGw6IHJlZDsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmFjdGl2ZUNyaXQwLAojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5hY3RpdmVDcml0MSwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuYWN0aXZlQ3JpdDIsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmFjdGl2ZUNyaXQzIHsKICBzdHJva2U6ICNmZjg4ODg7CiAgZmlsbDogI2JmYzdmZjsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmRvbmVDcml0MCwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuZG9uZUNyaXQxLAojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5kb25lQ3JpdDIsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmRvbmVDcml0MyB7CiAgc3Ryb2tlOiAjZmY4ODg4OwogIGZpbGw6IGxpZ2h0Z3JleTsKICBzdHJva2Utd2lkdGg6IDI7CiAgY3Vyc29yOiBwb2ludGVyOwogIHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlczsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuZG9uZUNyaXRUZXh0MCwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuZG9uZUNyaXRUZXh0MSwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuZG9uZUNyaXRUZXh0MiwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuZG9uZUNyaXRUZXh0MyB7CiAgZmlsbDogYmxhY2sgIWltcG9ydGFudDsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuYWN0aXZlQ3JpdFRleHQwLAojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5hY3RpdmVDcml0VGV4dDEsCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmFjdGl2ZUNyaXRUZXh0MiwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuYWN0aXZlQ3JpdFRleHQzIHsKICBmaWxsOiBibGFjayAhaW1wb3J0YW50OyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC50aXRsZVRleHQgewogIHRleHQtYW5jaG9yOiBtaWRkbGU7CiAgZm9udC1zaXplOiAxOHB4OwogIGZpbGw6IGJsYWNrOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIGcuY2xhc3NHcm91cCB0ZXh0IHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogbm9uZTsKICBmb250LWZhbWlseTogJ3RyZWJ1Y2hldCBtcycsIHZlcmRhbmEsIGFyaWFsOwogIGZvbnQtc2l6ZTogMTBweDsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyBnLmNsYXNzR3JvdXAgcmVjdCB7CiAgZmlsbDogI0VDRUNGRjsKICBzdHJva2U6ICM5MzcwREI7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgZy5jbGFzc0dyb3VwIGxpbmUgewogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmNsYXNzTGFiZWwgLmJveCB7CiAgc3Ryb2tlOiBub25lOwogIHN0cm9rZS13aWR0aDogMDsKICBmaWxsOiAjRUNFQ0ZGOwogIG9wYWNpdHk6IDAuNTsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuY2xhc3NMYWJlbCAubGFiZWwgewogIGZpbGw6ICM5MzcwREI7CiAgZm9udC1zaXplOiAxMHB4OyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzIC5yZWxhdGlvbiB7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsKICBmaWxsOiBub25lOyB9CgojbWVybWFpZC0xNTI5MTc4NjYxOTIzICNjb21wb3NpdGlvblN0YXJ0IHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgI2NvbXBvc2l0aW9uRW5kIHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgI2FnZ3JlZ2F0aW9uU3RhcnQgewogIGZpbGw6ICNFQ0VDRkY7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAjYWdncmVnYXRpb25FbmQgewogIGZpbGw6ICNFQ0VDRkY7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAjZGVwZW5kZW5jeVN0YXJ0IHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgI2RlcGVuZGVuY3lFbmQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAjZXh0ZW5zaW9uU3RhcnQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAjZXh0ZW5zaW9uRW5kIHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNtZXJtYWlkLTE1MjkxNzg2NjE5MjMgLmNvbW1pdC1pZCwKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuY29tbWl0LW1zZywKI21lcm1haWQtMTUyOTE3ODY2MTkyMyAuYnJhbmNoLWxhYmVsIHsKICBmaWxsOiBsaWdodGdyZXk7CiAgY29sb3I6IGxpZ2h0Z3JleTsgfQo8L3N0eWxlPjxzdHlsZT4jbWVybWFpZC0xNTI5MTc4NjYxOTIzIHsKICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNjUpOwogICAgZm9udDogbm9ybWFsIG5vcm1hbCA0MDAgbm9ybWFsIDE0cHggLyAyMXB4ICJNb25vc3BhY2VkIE51bWJlciIsICJDaGluZXNlIFF1b3RlIiwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sICJQaW5nRmFuZyBTQyIsICJIaXJhZ2lubyBTYW5zIEdCIiwgIk1pY3Jvc29mdCBZYUhlaSIsICJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgfTwvc3R5bGU+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyLCAtMTIpIj48ZyBjbGFzcz0ib3V0cHV0Ij48ZyBjbGFzcz0iY2x1c3RlcnMiPjxnIGNsYXNzPSJjbHVzdGVyIiBpZD0ic3ViR3JhcGgwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMDIuNzk2ODc1LDc1LjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxyZWN0IHdpZHRoPSIyOTkuNTMxMjUiIGhlaWdodD0iMTExIiB4PSItMTQ5Ljc2NTYyNSIgeT0iLTU1LjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxmb3JlaWduT2JqZWN0IHdpZHRoPSIwIiBoZWlnaHQ9IjAiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7Ij48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48dGV4dCB4PSIwIiB5PSItNDEuNSIgZmlsbD0iYmxhY2siIHN0cm9rZT0ibm9uZSIgaWQ9Im1lcm1haWQtMTUyOTE3ODY2MTkyM1RleHQiIHN0eWxlPSJ0ZXh0LWFuY2hvcjogbWlkZGxlOyI+T0NJPC90ZXh0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VQYXRocyI+PGcgY2xhc3M9ImVkZ2VQYXRoIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxwYXRoIGNsYXNzPSJwYXRoIiBkPSJNMTAzLjAzMTI1LDc1LjVMMTI4LjAzMTI1LDc1LjVMMTUzLjAzMTI1LDc1LjVMMTc4LjAzMTI1LDc1LjUiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkOTE0KSIgc3R5bGU9ImZpbGw6bm9uZSI+PC9wYXRoPjxkZWZzPjxtYXJrZXIgaWQ9ImFycm93aGVhZDkxNCIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMTsgc3Ryb2tlLWRhc2hhcnJheTogMSwgMDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjxnIGNsYXNzPSJlZGdlUGF0aCIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cGF0aCBjbGFzcz0icGF0aCIgZD0iTTI2My4zOTA2MjUsNzUuNUwyODguMzkwNjI1LDc1LjVMMzEzLjM5MDYyNSw3NS41IiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDkxNSkiIHN0eWxlPSJmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQ5MTUiIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOSIgcmVmWT0iNSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBtYXJrZXJXaWR0aD0iOCIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8iPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgY2xhc3M9ImFycm93aGVhZFBhdGgiIHN0eWxlPSJzdHJva2Utd2lkdGg6IDE7IHN0cm9rZS1kYXNoYXJyYXk6IDEsIDA7Ij48L3BhdGg+PC9tYXJrZXI+PC9kZWZzPjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbHMiPjxnIGNsYXNzPSJlZGdlTGFiZWwiIHRyYW5zZm9ybT0iIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiIGNsYXNzPSJsYWJlbCI+PGZvcmVpZ25PYmplY3Qgd2lkdGg9IjAiIGhlaWdodD0iMCI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiPjxzcGFuIGNsYXNzPSJlZGdlTGFiZWwiPjwvc3Bhbj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxmb3JlaWduT2JqZWN0IHdpZHRoPSIwIiBoZWlnaHQ9IjAiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7Ij48c3BhbiBjbGFzcz0iZWRnZUxhYmVsIj48L3NwYW4+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48L2c+PC9nPjxnIGNsYXNzPSJub2RlcyI+PGcgY2xhc3M9Im5vZGUiIGlkPSJETlNab25lIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMjAuNzEwOTM3NSw3NS41KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cmVjdCByeD0iNSIgcnk9IjUiIHg9Ii00Mi42Nzk2ODc1IiB5PSItMjAuNSIgd2lkdGg9Ijg1LjM1OTM3NSIgaGVpZ2h0PSI0MSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyLjY3OTY4NzUsLTEwLjUpIj48Zm9yZWlnbk9iamVjdCB3aWR0aD0iNjUuMzU5Mzc1IiBoZWlnaHQ9IjIxIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyI+RE5TIFpvbmU8L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSJUZW5hbnREb21haW4iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM3MC40NzY1NjI1LDc1LjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxyZWN0IHJ4PSI1IiByeT0iNSIgeD0iLTU3LjA4NTkzNzUiIHk9Ii0yMC41IiB3aWR0aD0iMTE0LjE3MTg3NSIgaGVpZ2h0PSI0MSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ3LjA4NTkzNzUsLTEwLjUpIj48Zm9yZWlnbk9iamVjdCB3aWR0aD0iOTQuMTcxODc1IiBoZWlnaHQ9IjIxIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aGl0ZS1zcGFjZTogbm93cmFwOyI+VGVuYW50IERvbWFpbjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjwvZz48ZyBjbGFzcz0ibm9kZSIgaWQ9IlJvb3RETlMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYxLjUxNTYyNSw3NS41KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cmVjdCByeD0iNSIgcnk9IjUiIHg9Ii00MS41MTU2MjUiIHk9Ii0yMC41IiB3aWR0aD0iODMuMDMxMjUiIGhlaWdodD0iNDEiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMS41MTU2MjUsLTEwLjUpIj48Zm9yZWlnbk9iamVjdCB3aWR0aD0iNjMuMDMxMjUiIGhlaWdodD0iMjEiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdoaXRlLXNwYWNlOiBub3dyYXA7Ij5Sb290IEROUzwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=)
+++
### TLS
Wild card certificate for OIC
```
*.sumanganta.com
```
---

### Ingress Definition
```Yaml
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: dp-ing
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    nginx.ingress.kubernetes.io/auth-url: "https://www.sumanganta.com/p/p/auth"
    nginx.ingress.kubernetes.io/auth-signin: "https://www.sumanganta.com/p/p/login"
spec:
  tls:
  - secretName: sumanganta-domain-tls
  rules:
  - http:
      paths:
      - path: /eng
        backend:
          serviceName: dp-service
          servicePort: 80
```
---
### Authentication

<span style="color:gray">OAuth Proxy</span>

- Each unauthenticated request is routed to the proxy - https://www.sumanganta.com/p/p
- Proxy is pre-seeded with clientId, secret per tenant via config maps (TODO)
- Takes care of routing requests to IDCS and get access token.
- Also acts as auth enforcement point
---
### Multi tenancy

<span style="color:gray">An executable object that represents an AWS Gateway call.</span>

```Yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: dp-config
  namespace: dp
data:
  t1.properties: |-
    engine.name=t1
    db.driverClass=org.h2.Driver
    db.url=jdbc:h2:mem:process-engine1;DB_CLOSE_DELAY=1000
    db.username=sa
    db.password=
  t2.properties: |-
    engine.name=t2
    db.driverClass=org.h2.Driver
    db.url=jdbc:h2:mem:process-engine2;DB_CLOSE_DELAY=1000
    db.username=sa
    db.password=
```